{% load static %}
{% load filters %}
<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Thu Jun 01 2023 23:29:37 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="646e79db79e09cba5d9ceb0f" data-wf-site="646e79db79e09cba5d9ceb10">
<head>
  <meta charset="utf-8">
  <title>trips | TravelApp</title>
  <meta content="trips" property="og:title">
  <meta content="trips" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">

  <link href="{% static 'wfassets/css/normalize.css' %}" rel="stylesheet" type="text/css">
  <link href="{% static 'wfassets/css/webflow.css' %}" rel="stylesheet" type="text/css">
  <link href="{% static 'wfassets/css/travelapp-5fb14a-fdab230eca08a5b45f0484.webflow.css' %}" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <!-- <link href="{% static 'wfassets/images/favicon.ico' %}" rel="shortcut icon" type="image/x-icon"> -->
  <!-- <link href="{% static 'wfassets/images/webclip.png' %}" rel="apple-touch-icon"> -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var description = document.getElementById('description');
      var country = document.getElementById('country');
      var city = document.getElementById('city');

      country.addEventListener('keydown', function(event) {
        if (event.keyCode === 13 && !event.shiftKey) {
          // Prevent the default behavior of the Enter key
          event.preventDefault();
        }
      });
      city.addEventListener('keydown', function(event) {
        if (event.keyCode === 13 && !event.shiftKey) {
          // Prevent the default behavior of the Enter key
          event.preventDefault();
        }
      });
      description.addEventListener('keydown', function(event) {
        if (event.keyCode === 13 && !event.shiftKey) {
          // Prevent the default behavior of the Enter key
          event.preventDefault();
          // Insert a new line character in the description field
          var currentCursorPosition = description.selectionStart;
          var descriptionValue = description.value;
          var newValue = descriptionValue.substring(0, currentCursorPosition) + '\n' + descriptionValue.substring(currentCursorPosition);
          description.value = newValue;
          // Adjust the cursor position to the end of the newly inserted line
          description.selectionStart = currentCursorPosition + 1;
          description.selectionEnd = currentCursorPosition + 1;
        }
      });
    });
  </script>

</head>
<body class="body tripsfeed">
  <div class="mainnavbardiv mobile">
    <div data-animation="default" data-collapse="none" data-duration="400" data-easing="ease" data-easing2="ease" role="banner" class="navbar-2 mainnavbar mobile w-nav">
      <div class="sidenavdiv mobile">
        <a href="/dashboard/" class="logo mobile w-nav-brand"><img src="{% static 'wfassets/images/logo.png' %}" loading="lazy" alt="" class="image mobile"></a>
        <a href="/dashboard/" class="sidenavlink mobile w-inline-block"><img src="{% static 'wfassets/images/dashBoardIcon.png' %}" loading="lazy" sizes="(max-width: 479px) 6vw, (max-width: 1279px) 30px, (max-width: 1919px) 2vw, 30px" srcset="{% static 'wfassets/images/dashBoardIcon-p-500.png' %} 500w, {% static 'wfassets/images/dashBoardIcon.png' %} 512w" alt="" class="sidenavicon mobile">
          <div class="text-block navtext mobile">Dashboard</div>
        </a>
        <a href="/chats/" class="sidenavlink mobile w-inline-block"><img src=src="{% static 'wfassets/images/chatsIcon.png' %}" loading="lazy" sizes="(max-width: 479px) 6vw, (max-width: 1279px) 30px, (max-width: 1919px) 2vw, 30px" srcset="{% static 'wfassets/images/chatsIcon-p-500.png' %} 500w,{% static 'wfassets/images/chatsIcon.png' %} 512w" alt="" class="sidenavicon mobile">
          <div class="text-block navtext mobile">Chats</div>
        </a>
        <a href="/tripsfeed/" class="sidenavlink mobile w-inline-block"><img src="{% static 'wfassets/images/postsIcon.png' %}" loading="lazy" sizes="(max-width: 479px) 6vw, (max-width: 1279px) 30px, (max-width: 1919px) 2vw, 30px" srcset="{% static 'wfassets/images/postsIcon-p-500.png' %} 500w, {% static 'wfassets/images/postsIcon.png' %} 512w" alt="" class="sidenavicon mobile">
          <div class="text-block navtext mobile"><span class="text-span">Trips feed</span></div>
        </a>
        <a href="/explore/" class="sidenavlink mobile w-inline-block"><img src="{% static 'wfassets/images/exploreIcon.png' %}" loading="lazy" sizes="(max-width: 479px) 6vw, (max-width: 1279px) 30px, (max-width: 1919px) 2vw, 30px" srcset="{% static 'wfassets/images/exploreIcon-p-500.png' %} 500w, {% static 'wfassets/images/exploreIcon.png' %} 512w" alt="" class="sidenavicon mobile">
          <div class="text-block navtext mobile">Explore</div>
        </a>
        <a href="/profile/{{user.username}}" class="sidenavlink mobile w-inline-block"><img src="{{traveller.profilePic.url}}" loading="lazy" sizes="(max-width: 479px) 6vw, (max-width: 1279px) 30px, (max-width: 1919px) 2vw, 30px" srcset="{{traveller.profilePic.url}} 500w, {{traveller.profilePic.url}} 512w" alt="" class="sidenavicon mobile profile">
          <div class="text-block navtext mobile">Profile</div>
        </a>
      </div>
    </div>
  </div>
  <div class="mainfeeddiv">
    <div class="tripsfeeddiv">
      <div class="text-block-6">Browse trips</div>


      {% for trip in trips reversed %} 
      <!-- reversed in order to show latest posts first -->
      <div class="mainpostdiv">
        <div class="postdiv" style="background-image: url('{{trip.image.url}}');">
          <div class="postinfo">
            <div class="postlocation"><strong class="bold-text-3">{{trip.city}}, {{trip.country}}</strong></div>
            <div class="postuser">

              {% with profilePic=profilePics|getItem:trip.user %}
              <a href="/profile/{{trip.user}}" class="postuserlnk w-inline-block"><img src="{{ profilePic }}" loading="lazy" width="41" sizes="(max-width: 1279px) 41px, (max-width: 1439px) 3vw, 41px" srcset="{{ profilePic }} 500w, {{ profilePic }} 512w" alt="" class="image-4">
                <div class="postusername">{{trip.user}}</div>
              </a>
              {% endwith %}

            </div>
            <div class="posttripdate"><img src="{% static 'wfassets/images/dateIcon.png' %}" loading="lazy" width="35" sizes="(max-width: 1439px) 35px, (max-width: 1919px) 2vw, 35px" srcset="{% static 'wfassets/images/dateIcon-p-500.png' %} 500w, {% static 'wfassets/images/dateIcon.png' %} 512w" alt="" class="image-4">
              <div class="text-block-3">{{trip.startDate|date:"Y-m-d"}} to {{trip.endDate|date:"Y-m-d"}}</div>
            </div>
            <div class="postpartysize"><img src="{% static 'wfassets/images/partyIcon.png' %}" loading="lazy" width="36" sizes="(max-width: 1279px) 36px, (max-width: 1439px) 3vw, 36px" srcset="{% static 'wfassets/images/partyIcon-p-500.png' %} 500w, {% static 'wfassets/images/partyIcon.png' %} 512w" alt="" class="image-4 profile">
              <div class="text-block-4"> {{trip.partySizeString}}</div>
            </div>
            <div class="text-block-5">{{trip.description}}</div>
          </div>
        </div>
        <div class="postoptionsdiv">
          <ul role="list" class="postoptioncontainer w-list-unstyled">
            
            <li class="postoptioncontainer">
              <div class="postuser">
                  <a href="/tripsfeed/pintrip?tripID={{trip.id}}" value="" data-wait="Please wait..." class="formoptionbutton pin w-button"></a>
                  <div class="text-block-7 pin">{{trip.pins}} </div>
              </div>      
            </li>
           
            <li class="postoptioncontainer">
              <div class="postuser">
                  <a href="#" value="" data-wait="Please wait..." class="formoptionbutton viewtrip w-button"></a>
                  <div class="text-block-7">view trip</div>`
              </div>
            </li>

            <li class="postoptioncontainer">
              <div class="postuser">
                  <a href="#" value="" data-wait="Please wait..." class="formoptionbutton share w-button"></a>
                  <div class="text-block-7">Share</div>
              </div>
            </li>

          </ul>
        </div>
      </div>

      {% endfor %}


    </div>
  </div>
  <div data-w-id="f093925a-c127-8091-c9d1-e0837246ca01" class="secondarynavbar">
    <a data-w-id="8ef4b8b8-53b6-3283-6103-740afaedffcc" href="#" class="secondarynavlink w-inline-block"><img src="{% static 'wfassets/images/addIcon' %}" loading="lazy" width="34" sizes="(max-width: 479px) 5vw, 3vw" srcset="{% static 'wfassets/images/addIcon-p-500.png' %} 500w, {% static 'wfassets/images/addIcon.png' %} 512w" alt="" class="secondarynavicon">
      <div class="secondarynavtext">New trip</div>
    </a>
    <a href="#" class="secondarynavlink w-inline-block"><img src="{% static 'wfassets/images/notificationIcon.png' %}" loading="lazy" width="34" sizes="(max-width: 479px) 5vw, 3vw" srcset="{% static 'wfassets/images/notificationIcon-p-500.png' %} 500w, {% static 'wfassets/images/notificationIcon.png' %} 512w" alt="" class="secondarynavicon">
      <div class="secondarynavtext">Notifications</div>
    </a>
    <a href="/settings/" class="secondarynavlink w-inline-block"><img src="{% static 'wfassets/images/settingsIcon.png' %}" loading="lazy" width="34" sizes="(max-width: 479px) 5vw, 3vw" srcset="{% static 'wfassets/images/settingsIcon-p-500.png' %} 500w, {% static 'wfassets/images/settingsIcon.png' %} 512w" alt="" class="secondarynavicon">
      <div class="secondarynavtext">Settings</div>
    </a>
    <a href="/logout/" class="secondarynavlink w-inline-block"><img src="{% static 'wfassets/images/logoutIcon.png' %}" loading="lazy" width="34" sizes="(max-width: 479px) 5vw, 3vw" srcset="{% static 'wfassets/images/logoutIcon-p-500.png' %} 500w, {% static 'wfassets/images/logoutIcon.png' %} 512w" alt="" class="secondarynavicon">
      <div class="secondarynavtext">Logout</div>
    </a>
  </div>
  <div data-w-id="bd276db3-2737-11ef-29b3-e8c4974974e7" class="modal-wrapper">
    <div data-w-id="7d5aff68-a3aa-97bd-6c93-19b9c8ebad85" class="modal-background"></div>
    <div class="modal-card">
      <div class="form-block-3">
        <div class="div-block-8">
          <div class="text-block-10">Create a new trip</div>
          <a data-w-id="8e58504c-8fc3-91af-42eb-cc13267675a4" href="#" class="button-5 w-button">X</a>
        </div>
        <form method="POST" enctype="multipart/form-data" id="newtrip"  data-name="newtrip"  class="form-2" name="newtrip">
          {% csrf_token %}
          <input type="text" class="text-field tripformfield w-input" autofocus="true" maxlength="256" name="city" data-name="city" placeholder="City" id="city">
          <input type="text" class="text-field tripformfield w-input" autofocus="true" maxlength="256" name="country" data-name="country" placeholder="Country" id="country" required="">
          <input type="hidden" name="formtype" value="newtrip">

          <select id="partysize-2" name="partysize" data-name="partysize" class="select-field-2 w-select">
            <option value="0">any party size</option>
            <option value="1">1-3</option>
            <option value="2">4-6</option>
            <option value="3">7-9</option>
            <option value="4">10+</option>
          
          </select><textarea placeholder="brief description" maxlength="5000" id="description" name="description" data-name="description" class="textarea w-input"></textarea>
          <div class="div-block-6">
            <div class="text-block-9">add picture</div>
            <input type="file" name="postpicture" id="profilepicture" value="">
          </div>
          <div class="div-block-7"><input type="submit" value="save trip" data-wait="Please wait..." class="submit-button-3 w-button"></div>
        </form>

      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=646e79db79e09cba5d9ceb10" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="{% static 'wfassets/js/webflow.js' %}" type="text/javascript"></script>
</body>
</html>